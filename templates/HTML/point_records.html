{% extends "HTML/base.html" %}
{% block title %}í¬ì¸íŠ¸ ì‚¬ìš© ë‚´ì—­{% endblock %}
{% block content %}

<div class="container" style="max-width: 800px;">
    <div class="mb-lg text-center">
        <h2 class="text-2xl mb-md flex items-center justify-center gap-sm">
            <i class="ri-history-line text-primary"></i> í¬ì¸íŠ¸ ì‚¬ìš© ë‚´ì—­
        </h2>
    </div>

    <!-- ğŸ ê¸°í”„í‹°ì½˜ êµ¬ë§¤ ë‚´ì—­ -->
    <div class="mb-xl">
        <h3 class="text-xl mb-md flex items-center gap-sm">
            <div class="p-xs rounded-full bg-pink-50 text-secondary" style="background-color: #FDF2F8; color: #DB2777;">
                <i class="ri-gift-line"></i>
            </div>
            ê¸°í”„í‹°ì½˜ êµ¬ë§¤ ë‚´ì—­
        </h3>

        {% if gift_records %}
        <div class="flex flex-col gap-md">
            {% for record in gift_records %}
            <div class="card flex justify-between items-center p-md">
                <div>
                    <div class="font-bold text-lg mb-xs">{{ record.gift_name }}</div>
                    <div class="text-sm text-secondary">{{ record.created_at|date:"Y-m-d H:i" }}</div>
                </div>
                <div class="text-right">
                    <div class="font-bold text-error">-{{ record.cost }} P</div>
                    <div class="text-xs text-secondary">êµ¬ë§¤ì™„ë£Œ</div>
                </div>
            </div>
            {% endfor %}
        </div>
        {% else %}
        <div class="text-center p-lg border border-dashed border-gray-300 rounded-lg text-secondary">
            ê¸°í”„í‹°ì½˜ êµ¬ë§¤ ë‚´ì—­ì´ ì—†ìŠµë‹ˆë‹¤.
        </div>
        {% endif %}
    </div>

    <!-- ğŸ’¸ ì¶œê¸ˆ ë‚´ì—­ -->
    <div class="mb-xl">
        <h3 class="text-xl mb-md flex items-center gap-sm">
            <div class="p-xs rounded-full bg-blue-50 text-primary" style="background-color: #EFF6FF; color: #3B82F6;">
                <i class="ri-bank-card-line"></i>
            </div>
            ì¶œê¸ˆ ë‚´ì—­
        </h3>

        {% if withdraw_records %}
        <div class="flex flex-col gap-md">
            {% for record in withdraw_records %}
            <div class="card flex justify-between items-center p-md">
                <div>
                    <div class="font-bold text-lg mb-xs">{{ record.bank_name }} ({{ record.account_number }})</div>
                    <div class="text-sm text-secondary">{{ record.created_at|date:"Y-m-d H:i" }}</div>
                </div>
                <div class="text-right">
                    <div class="font-bold text-error">-{{ record.amount }} P</div>
                    <div class="text-xs text-secondary">ì¶œê¸ˆì‹ ì²­</div>
                </div>
            </div>
            {% endfor %}
        </div>
        {% else %}
        <div class="text-center p-lg border border-dashed border-gray-300 rounded-lg text-secondary">
            ì¶œê¸ˆ ì‹ ì²­ ë‚´ì—­ì´ ì—†ìŠµë‹ˆë‹¤.
        </div>
        {% endif %}
    </div>

    <div class="text-center">
        <a href="{% url 'main' %}" class="btn btn-secondary">â† í™ˆìœ¼ë¡œ ëŒì•„ê°€ê¸°</a>
    </div>
</div>

{% endblock %}
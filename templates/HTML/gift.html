{% extends "HTML/base.html" %}
{% block content %}

<div class="container" style="max-width: 800px;">
    <div class="flex flex-col gap-md mb-lg">
        <h1 class="text-2xl flex items-center gap-sm">
            <i class="ri-gift-line text-primary"></i> 기프티콘 교환
        </h1>

        <div class="card flex justify-between items-center p-md bg-gray-900 text-white"
            style="background-color: #1F2937; color: white;">
            <span class="font-bold">보유 포인트</span>
            <span class="text-2xl font-bold text-success" style="color: #34D399;">{{ balance }}P</span>
        </div>

        {% if error %}
        <div class="p-md bg-red-50 text-error rounded-md border border-red-100">
            <p class="font-bold">⚠ {{ error }}</p>
        </div>
        {% endif %}
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-md mb-lg">
        {% for g in gifts %}
        <div class="card flex flex-col justify-between h-full hover:shadow-lg transition">
            <div class="mb-md">
                <div class="text-lg font-bold mb-xs">{{ g.name }}</div>
                <div class="text-secondary">{{ g.cost }}P</div>
            </div>

            <form method="POST" action="{% url 'gift_buy' %}">
                {% csrf_token %}
                <input type="hidden" name="gift_name" value="{{ g.name }}">
                <input type="hidden" name="cost" value="{{ g.cost }}">

                <button type="submit" class="btn btn-primary w-full">교환하기</button>
            </form>
        </div>
        {% endfor %}
    </div>

    <div class="text-center">
        <a href="{% url 'point' %}" class="btn btn-secondary">← 이전 페이지로 돌아가기</a>
    </div>
</div>

{% endblock %}